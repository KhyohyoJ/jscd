<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jscd.app.member.memberMapper">

    <select id="count" resultType="int">
        SELECT count(*) FROM MEMBER
    </select>
<!--    회원상태에 따른 조회-->
    <select id="select" resultType="memberDto">
    	SELECT 
    		mebrNo, id, name, nickname, birth, pwd, phone, gender,
    		acct, status, grade, regDate, frsidNmbr, modifyDate, lstidNmbr, etc 
    	FROM MEMBER
    	WHERE id = #{id}
    </select>
    
    <insert id="insert" parameterType="memberDto">
	     INSERT INTO MEMBER
	         (id, name, nickname, birth, pwd, gender, phone, acct, status, grade, regDate, frsidNmbr, etc)
	     VALUES
	         (#{id}, #{name}, #{nickname}, #{birth}, #{pwd}, #{gender}, #{phone}, #{acct}, #{status}, #{grade}, now(), #{frsidNmbr}, #{etc})
    </insert>
    
	<update id="update" parameterType="memberDto">
	    UPDATE MEMBER
	    	SET
	    	    id = #{id},
	    	    name = #{name},
	    	    nickname = #{nickname},
	    	    birth = #{birth},
	    	    pwd = #{pwd},
	    	    gender = #{gender},
	    	    phone = #{phone},
	    	    modifyDate = now()
	    WHERE id = #{id}
	</update>

<!--  회원탈퇴 시 상태를 변경 -->

    
    <delete id="delete">
        DELETE FROM MEMBER
        WHERE
        id = #{id}
    </delete>

	<delete id="deleteAll">
		DELETE FROM MEMBER
	</delete>
    
</mapper>